\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{latex_article}[2018/03/03 Packages and settings for a LaTeX article]

% Font quality
\RequirePackage{lmodern}
\RequirePackage{textcomp}
% Math environments etc.
\RequirePackage{amsmath}
% Additional math symbols
\RequirePackage{amssymb}
% Graphics and default image directory
\RequirePackage{graphicx}
% Floating elements ([H])
\RequirePackage{float}
% Hyperlinks
\RequirePackage{hyperref}
% Split content in multiple columns
\RequirePackage{multicol}
% Diagrams / plots
\RequirePackage{xcolor}
\RequirePackage{tikz}
\RequirePackage{pgfplots}
% Syntax highlighting for code snippets
% ouputdir is a bit weird since it's a bodge in order to get tikzexternalize working later on
% without having to manually create './build/build'
\RequirePackage[outputdir=./build/build]{minted}
\RequirePackage{listings}

% Tikz {{{
\RequirePackage{tikzit}
\input{main.tikzstyles}

\RequirePackage{environ}
\makeatletter
\newsavebox{\measure@tikzpicture}
\NewEnviron{scaletikzpicturetowidth}[1]{%
    \def\tikz@width{#1}%
    \def\tikzscale{1}\begin{lrbox}{\measure@tikzpicture}%
        \BODY
    \end{lrbox}%
    \pgfmathparse{#1/\wd\measure@tikzpicture}%
    \edef\tikzscale{\pgfmathresult}%
    \BODY
}
\makeatother
% }}}

\endinput
% vim:foldmethod=marker:foldlevel=0
